!function(S){var at,ac,F,J,al,au,L,ag,aq,aj,ax,av,G,af,an,ah,ab,Z,aa,aB,aD,az,K,A,H,ao,T,am,Q,ai,ak,aw,ay,ad,aF,ar,aC,aE,ae,aA,ap;S.fn.extend({venobox:function(a){var b=this,c=S.extend({arrowsColor:"#B6B6B6",autoplay:!1,bgcolor:"#fff",border:"0",closeBackground:"#161617",closeColor:"#d2d2d2",framewidth:"",frameheight:"",gallItems:!1,infinigall:!1,htmlClose:"&times;",htmlNext:"<span>Next</span>",htmlPrev:"<span>Prev</span>",numeratio:!1,numerationBackground:"#161617",numerationColor:"#d2d2d2",numerationPosition:"top",overlayClose:!0,overlayColor:"rgba(23,23,23,0.85)",spinner:"double-bounce",spinColor:"#d2d2d2",titleattr:"title",titleBackground:"#161617",titleColor:"#d2d2d2",titlePosition:"top",cb_pre_open:function(){return !0},cb_post_open:function(){},cb_pre_close:function(){return !0},cb_post_close:function(){},cb_post_resize:function(){},cb_after_nav:function(){},cb_content_loaded:function(){},cb_init:function(){}},a);return c.cb_init(b),this.each(function(){if((Q=S(this)).data("venobox")){return !0}function d(){aD=Q.data("gall"),ab=Q.data("numeratio"),av=Q.data("gallItems"),G=Q.data("infinigall"),af=av||S('.vbox-item[data-gall="'+aD+'"]'),az=af.eq(af.index(Q)+1),K=af.eq(af.index(Q)-1),az.length||!0!==G||(az=af.eq(0)),af.length>=1?(ai=af.index(Q)+1,F.html(ai+" / "+af.length)):ai=1,!0===ab?F.show():F.hide(),""!==aB?J.show():J.hide(),az.length||!0===G?(S(".vbox-next").css("display","block"),A=!0):(S(".vbox-next").css("display","none"),A=!1),af.index(Q)>0||!0===G?(S(".vbox-prev").css("display","block"),H=!0):(S(".vbox-prev").css("display","none"),H=!1),!0!==H&&!0!==A||(L.on(m.DOWN,i),L.on(m.MOVE,j),L.on(m.UP,l))}function q(w){return !(w.length<1)&&(!an&&(an=!0,Z=w.data("overlay")||w.data("overlaycolor"),aj=w.data("framewidth"),ax=w.data("frameheight"),al=w.data("border"),ac=w.data("bgcolor"),ag=w.data("href")||w.attr("href"),at=w.data("autoplay"),aB=w.data("titleattr")&&w.attr(w.data("titleattr"))||"",w===K&&L.addClass("vbox-animated").addClass("swipe-right"),w===az&&L.addClass("vbox-animated").addClass("swipe-left"),T.show(),void L.animate({opacity:0},500,function(){aa.css("background",Z),L.removeClass("vbox-animated").removeClass("swipe-left").removeClass("swipe-right").css({"margin-left":0,"margin-right":0}),"iframe"==w.data("vbtype")?e():"inline"==w.data("vbtype")?p():"ajax"==w.data("vbtype")?k():"video"==w.data("vbtype")?f(at):(L.html('<img src="'+ag+'">'),u()),Q=w,d(),an=!1,c.cb_after_nav(Q,ai,az,K)})))}function r(w){27===w.keyCode&&t(),37==w.keyCode&&!0===H&&q(K),39==w.keyCode&&!0===A&&q(az)}function t(){if(!1===c.cb_pre_close(Q,ai,az,K)){return !1}S("body").off("keydown",r).removeClass("vbox-open"),Q.focus(),aa.animate({opacity:0},500,function(){aa.remove(),an=!1,c.cb_post_close()})}b.VBclose=function(){t()},Q.addClass("vbox-item"),Q.data("framewidth",c.framewidth),Q.data("frameheight",c.frameheight),Q.data("border",c.border),Q.data("bgcolor",c.bgcolor),Q.data("numeratio",c.numeratio),Q.data("gallItems",c.gallItems),Q.data("infinigall",c.infinigall),Q.data("overlaycolor",c.overlayColor),Q.data("titleattr",c.titleattr),Q.data("venobox",!0),Q.on("click",function(w){if(w.preventDefault(),Q=S(this),!1===c.cb_pre_open(Q)){return !1}switch(b.VBnext=function(){q(az)},b.VBprev=function(){q(K)},Z=Q.data("overlay")||Q.data("overlaycolor"),aj=Q.data("framewidth"),ax=Q.data("frameheight"),at=Q.data("autoplay")||c.autoplay,al=Q.data("border"),ac=Q.data("bgcolor"),A=!1,H=!1,an=!1,ag=Q.data("href")||Q.attr("href"),aq=Q.data("css")||"",aB=Q.attr(Q.data("titleattr"))||"",ao='<div class="vbox-preloader">',c.spinner){case"rotating-plane":ao+='<div class="sk-rotating-plane"></div>';break;case"double-bounce":ao+='<div class="sk-double-bounce"><div class="sk-child sk-double-bounce1"></div><div class="sk-child sk-double-bounce2"></div></div>';break;case"wave":ao+='<div class="sk-wave"><div class="sk-rect sk-rect1"></div><div class="sk-rect sk-rect2"></div><div class="sk-rect sk-rect3"></div><div class="sk-rect sk-rect4"></div><div class="sk-rect sk-rect5"></div></div>';break;case"wandering-cubes":ao+='<div class="sk-wandering-cubes"><div class="sk-cube sk-cube1"></div><div class="sk-cube sk-cube2"></div></div>';break;case"spinner-pulse":ao+='<div class="sk-spinner sk-spinner-pulse"></div>';break;case"chasing-dots":ao+='<div class="sk-chasing-dots"><div class="sk-child sk-dot1"></div><div class="sk-child sk-dot2"></div></div>';break;case"three-bounce":ao+='<div class="sk-three-bounce"><div class="sk-child sk-bounce1"></div><div class="sk-child sk-bounce2"></div><div class="sk-child sk-bounce3"></div></div>';break;case"circle":ao+='<div class="sk-circle"><div class="sk-circle1 sk-child"></div><div class="sk-circle2 sk-child"></div><div class="sk-circle3 sk-child"></div><div class="sk-circle4 sk-child"></div><div class="sk-circle5 sk-child"></div><div class="sk-circle6 sk-child"></div><div class="sk-circle7 sk-child"></div><div class="sk-circle8 sk-child"></div><div class="sk-circle9 sk-child"></div><div class="sk-circle10 sk-child"></div><div class="sk-circle11 sk-child"></div><div class="sk-circle12 sk-child"></div></div>';break;case"cube-grid":ao+='<div class="sk-cube-grid"><div class="sk-cube sk-cube1"></div><div class="sk-cube sk-cube2"></div><div class="sk-cube sk-cube3"></div><div class="sk-cube sk-cube4"></div><div class="sk-cube sk-cube5"></div><div class="sk-cube sk-cube6"></div><div class="sk-cube sk-cube7"></div><div class="sk-cube sk-cube8"></div><div class="sk-cube sk-cube9"></div></div>';break;case"fading-circle":ao+='<div class="sk-fading-circle"><div class="sk-circle1 sk-circle"></div><div class="sk-circle2 sk-circle"></div><div class="sk-circle3 sk-circle"></div><div class="sk-circle4 sk-circle"></div><div class="sk-circle5 sk-circle"></div><div class="sk-circle6 sk-circle"></div><div class="sk-circle7 sk-circle"></div><div class="sk-circle8 sk-circle"></div><div class="sk-circle9 sk-circle"></div><div class="sk-circle10 sk-circle"></div><div class="sk-circle11 sk-circle"></div><div class="sk-circle12 sk-circle"></div></div>';break;case"folding-cube":ao+='<div class="sk-folding-cube"><div class="sk-cube1 sk-cube"></div><div class="sk-cube2 sk-cube"></div><div class="sk-cube4 sk-cube"></div><div class="sk-cube3 sk-cube"></div></div>'}return ao+="</div>",am='<a class="vbox-next">'+c.htmlNext+'</a><a class="vbox-prev">'+c.htmlPrev+"</a>",aw='<div class="vbox-title"></div><div class="vbox-num">0/0</div><div class="vbox-close">'+c.htmlClose+"</div>",au='<div class="vbox-overlay '+aq+'" style="background:'+Z+'">'+ao+'<div class="vbox-container"><div class="vbox-content"></div></div>'+aw+am+"</div>",S("body").append(au).addClass("vbox-open"),S(".vbox-preloader div:not(.sk-circle) .sk-child, .vbox-preloader .sk-rotating-plane, .vbox-preloader .sk-rect, .vbox-preloader div:not(.sk-folding-cube) .sk-cube, .vbox-preloader .sk-spinner-pulse").css("background-color",c.spinColor),aa=S(".vbox-overlay"),S(".vbox-container"),L=S(".vbox-content"),F=S(".vbox-num"),J=S(".vbox-title"),(T=S(".vbox-preloader")).show(),J.css(c.titlePosition,"-1px"),J.css({color:c.titleColor,"background-color":c.titleBackground}),S(".vbox-close").css({color:c.closeColor,"background-color":c.closeBackground}),S(".vbox-num").css(c.numerationPosition,"-1px"),S(".vbox-num").css({color:c.numerationColor,"background-color":c.numerationBackground}),S(".vbox-next span, .vbox-prev span").css({"border-top-color":c.arrowsColor,"border-right-color":c.arrowsColor}),L.html(""),L.css("opacity","0"),aa.css("opacity","0"),d(),aa.animate({opacity:1},250,function(){"iframe"==Q.data("vbtype")?e():"inline"==Q.data("vbtype")?p():"ajax"==Q.data("vbtype")?k():"video"==Q.data("vbtype")?f(at):(L.html('<img src="'+ag+'">'),u()),c.cb_post_open(Q,ai,az,K)}),S("body").keydown(r),S(".vbox-prev").on("click",function(){q(K)}),S(".vbox-next").on("click",function(){q(az)}),!1});var v=".vbox-overlay";function i(w){L.addClass("vbox-animated"),ad=ar=w.pageY,aF=aC=w.pageX,ak=!0}function j(w){if(!0===ak){aC=w.pageX,ar=w.pageY,ae=aC-aF,aA=ar-ad;var x=Math.abs(ae);x>Math.abs(aA)&&x<=100&&(w.preventDefault(),L.css("margin-left",ae))}}function l(w){if(!0===ak){ak=!1;var y=Q,x=!1;(aE=aC-aF)<0&&!0===A&&(y=az,x=!0),aE>0&&!0===H&&(y=K,x=!0),Math.abs(aE)>=ap&&!0===x?q(y):L.css({"margin-left":0,"margin-right":0})}}c.overlayClose||(v=".vbox-close"),S("body").on("click touchstart",v,function(w){(S(w.target).is(".vbox-overlay")||S(w.target).is(".vbox-content")||S(w.target).is(".vbox-close")||S(w.target).is(".vbox-preloader")||S(w.target).is(".vbox-container"))&&t()}),aF=0,aC=0,aE=0,ap=50,ak=!1;var m={DOWN:"touchmousedown",UP:"touchmouseup",MOVE:"touchmousemove"},n=function(y){var x;switch(y.type){case"mousedown":x=m.DOWN;break;case"mouseup":case"mouseout":x=m.UP;break;case"mousemove":x=m.MOVE;break;default:return}var w=s(x,y,y.pageX,y.pageY);S(y.target).trigger(w)},h=function(z){var y;switch(z.type){case"touchstart":y=m.DOWN;break;case"touchend":y=m.UP;break;case"touchmove":y=m.MOVE;break;default:return}var w,x=z.originalEvent.touches[0];w=y==m.UP?s(y,z,null,null):s(y,z,x.pageX,x.pageY),S(z.target).trigger(w)},s=function(z,y,w,x){return S.Event(z,{pageX:w,pageY:x,originalEvent:y})};function k(){S.ajax({url:ag,cache:!1}).done(function(w){L.html('<div class="vbox-inline">'+w+"</div>"),u()}).fail(function(){L.html('<div class="vbox-inline"><p>Error retrieving contents, please retry</div>'),g()})}function e(){L.html('<iframe class="venoframe" src="'+ag+'"></iframe>'),g()}function f(x){var z,y=function(B){var C;B.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),RegExp.$3.indexOf("youtu")>-1?C="youtube":RegExp.$3.indexOf("vimeo")>-1&&(C="vimeo");return{type:C,id:RegExp.$6}}(ag),w=(x?"?rel=0&autoplay=1":"?rel=0")+function(D){var M="",E=decodeURIComponent(D).split("?");if(void 0!==E[1]){var B,C,I=E[1].split("&");for(C=0;C<I.length;C++){B=I[C].split("="),M=M+"&"+B[0]+"="+B[1]}}return encodeURI(M)}(ag);"vimeo"==y.type?z="https://player.vimeo.com/video/":"youtube"==y.type&&(z="https://www.youtube.com/embed/"),L.html('<iframe class="venoframe vbvid" webkitallowfullscreen mozallowfullscreen allowfullscreen allow="autoplay" frameborder="0" src="'+z+y.id+w+'"></iframe>'),g()}function p(){L.html('<div class="vbox-inline">'+S(ag).html()+"</div>"),g()}function u(){(ay=L.find("img")).length?ay.each(function(){S(this).one("load",function(){g()})}):g()}function g(){J.html(aB),L.find(">:first-child").addClass("vbox-figlio").css({width:aj,height:ax,padding:al,background:ac}),S("img.vbox-figlio").on("dragstart",function(w){w.preventDefault()}),o(),L.animate({opacity:"1"},"slow",function(){T.hide()}),c.cb_content_loaded(Q,ai,az,K)}function o(){var x=L.outerHeight(),w=S(window).height();ah=x+60<w?(w-x)/2:"30px",L.css("margin-top",ah),L.css("margin-bottom",ah),c.cb_post_resize()}"ontouchstart" in window?(S(document).on("touchstart",h),S(document).on("touchmove",h),S(document).on("touchend",h)):(S(document).on("mousedown",n),S(document).on("mouseup",n),S(document).on("mouseout",n),S(document).on("mousemove",n)),S(window).resize(function(){S(".vbox-content").length&&setTimeout(o(),800)})})}})}(jQuery);